{"version":3,"file":"static/js/178.24581f38.chunk.js","mappings":"+PACA,EAAwB,4BAAxB,EAAkE,kCAAlE,EAAiH,iC,yBCwBjH,EArBuB,WACrB,OACE,iCACE,oDACA,gBAAIA,MAAOC,EAAAA,EAAX,WACE,yBACE,SAAC,KAAD,CAAMC,GAAI,OAAQC,SAAO,EAAzB,qBAIF,yBACE,SAAC,KAAD,CAAMD,GAAI,UAAV,2BAGJ,SAAC,EAAAE,SAAD,CAAUC,UAAU,mDAApB,UACE,SAAC,KAAD,QAIP,ECoDD,EAlEqB,WACnB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAOL,GACnBM,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAsCE,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAoDF,EAAAA,EAAAA,UAAS,CAAC,GAA9D,eAAOG,EAAP,KAA2BC,EAA3B,KAEMC,GAAmBC,EAAAA,EAAAA,cAAW,iBAAC,8GAEZC,EAAAA,EAAAA,GAAgBC,EAAAA,EAAAA,OAAgBV,IAFpB,OAE3BW,EAF2B,OAGjCP,EAAeO,EAAOC,KAAKC,IAC3BP,EAAsBK,EAAOC,MAJI,gDAMjCE,QAAQC,IAAR,MANiC,yDAQlC,CAACf,IAiBJ,OAJAgB,EAAAA,EAAAA,YAAU,WACJhB,IAAYG,GAAaI,GAC9B,GAAE,CAACA,EAAkBP,EAASG,KAG7B,gBAAKc,UAAWC,EAAhB,SACmB,KAAhBf,GACC,iCACE,mBAAQgB,KAAK,SAASC,QAAS,kBAnBjB,WAAO,IAAD,EAKnB,EAHP,OADAN,QAAQC,IAAIjB,GACqC,OAA7C,UAAAA,EAAYuB,QAAQC,aAApB,eAA2BC,KAAKC,WAClCV,QAAQC,IAAI,QACLnB,EAAS,OAEhBkB,QAAQC,IAAI,UACLnB,EAAS,UAAD,iBAAWE,EAAYuB,QAAQC,MAAMC,YAArC,aAAW,EAAgCE,SAE7D,CAU4CC,EAAN,EAA/B,sBAGA,iBAAKT,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXS,IAAG,0CAAqCtB,EAAmBuB,aAC3DC,IAAG,UAAKxB,EAAmByB,YAE7B,4BACE,wBAAKzB,EAAmB0B,kBACxB,wCAAgB1B,EAAmB2B,iBACnC,sCACA,uBAAI3B,EAAmB4B,YACvB,oCACA,uBACG5B,EAAmB6B,OAAOC,KAAI,cAAGC,EAAH,IAAMC,EAAN,EAAMA,KAAN,gBAAoBA,EAApB,iBAIrC,SAAC,EAAD,QAGF,mCAIP,C","sources":["webpack://react-homework-template/./src/components/pages/movieDetails/MovieDetails.module.css?919b","components/additionalInfo/AdditionalInfo.jsx","components/pages/movieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"MovieDetails_movie__CAewj\",\"movie__item\":\"MovieDetails_movie__item__SbF7d\",\"movie__img\":\"MovieDetails_movie__img__QXUMk\"};","import React, { Suspense } from 'react';\nimport { Link, Outlet } from 'react-router-dom';\nimport { internalBtmBorder } from 'components/sharedLayout/SharedLayout';\n\nconst AdditionalInfo = () => {\n  return (\n    <>\n      <h4>Additional Information</h4>\n      <ul style={internalBtmBorder}>\n        <li>\n          <Link to={'cast'} replace>\n            Cast\n          </Link>\n        </li>\n        <li>\n          <Link to={'reviews'}>Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<h2>Lazy loading in action</h2>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default AdditionalInfo;\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { movieApiLuncher } from 'service/movieApiLuncher';\nimport apiUtils from 'service/apiUtils';\nimport css from './MovieDetails.module.css';\n\nimport AdditionalInfo from 'components/additionalInfo/AdditionalInfo';\n//import PropTypes from 'prop-types' //TODO uncoment if ready\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const locationRef = useRef(location);\n  const { movieId } = useParams();\n  const [movieIdData, setMovieIdData] = useState('');\n  const [movieIdDataDetails, setMovieIdDataDetails] = useState({});\n\n  const dataMovieDetails = useCallback(async () => {\n    try {\n      const answer = await movieApiLuncher(apiUtils.API_ID(movieId));\n      setMovieIdData(answer.data.id);\n      setMovieIdDataDetails(answer.data);\n    } catch (err) {\n      console.log(err);\n    }\n  }, [movieId]);\n\n  const goBackHandler = () => {\n    console.log(locationRef);\n    if (locationRef.current.state?.from.pathname === '/') {\n      console.log('home');\n      return navigate('/');\n    } else {\n      console.log('movies');\n      return navigate(`/movies${locationRef.current.state.from?.search}`);\n    }\n  };\n\n  useEffect(() => {\n    if (movieId !== movieIdData) dataMovieDetails();\n  }, [dataMovieDetails, movieId, movieIdData]);\n\n  return (\n    <div className={css.movie}>\n      {movieIdData !== '' ? (\n        <>\n          <button type=\"button\" onClick={() => goBackHandler()}>\n            Go back\n          </button>\n          <div className={css.movie__item}>\n            <img\n              className={css.movie__img}\n              src={`https://image.tmdb.org/t/p/w500/${movieIdDataDetails.poster_path}`}\n              alt={`${movieIdDataDetails.tagline}`}\n            />\n            <div>\n              <h2>{movieIdDataDetails.original_title}</h2>\n              <p>User score: {movieIdDataDetails.vote_average}</p>\n              <h3>Overview</h3>\n              <p>{movieIdDataDetails.overview}</p>\n              <h3>Genres</h3>\n              <p>\n                {movieIdDataDetails.genres.map(({ _, name }) => `${name} `)}\n              </p>\n            </div>\n          </div>\n          <AdditionalInfo />\n        </>\n      ) : (\n        <p>Loding</p>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["style","internalBtmBorder","to","replace","Suspense","fallback","location","useLocation","navigate","useNavigate","locationRef","useRef","movieId","useParams","useState","movieIdData","setMovieIdData","movieIdDataDetails","setMovieIdDataDetails","dataMovieDetails","useCallback","movieApiLuncher","apiUtils","answer","data","id","console","log","useEffect","className","css","type","onClick","current","state","from","pathname","search","goBackHandler","src","poster_path","alt","tagline","original_title","vote_average","overview","genres","map","_","name"],"sourceRoot":""}